{%  extends "studioadmin/base.html" %}

{% load crispy_forms_tags %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css" integrity="sha512-EvvoSMXERW4Pe9LjDN9XDzHd66p8Z49gcrB7LCUplh0GcEHiV816gXGwIhir6PJiwl0ew8GFM2QaIg2TW02B9A==" crossorigin="anonymous" />
{% endblock %}

{% block subnav-xs %}
    {%  include "studioadmin/includes/navs/xs/courses_subnav.html" %}
{% endblock %}
{% block precontent %}
    {%  include "studioadmin/includes/navs/courses_subnav.html" %}
{% endblock %}

{% block content %}
    {% if creating %}
    <h1>Creating new {{ event_type.name|title }} course</h1>
    <h2>Track: {{ event_type.track }}</h2>
    {% else %}
        <h1>Updating course: {{ course.name }}</h1>
        <h2>Track: {{ course.event_type.track }}</h2>
    {% endif %}

    {% if creating %}
    <p>
        You can create a course before or after its individual events have been created.
    </p>
    <p>By default, a newly created course is not visible on the booking site.  Make it visible on creation
        by ticking "show on site", or use the button on the course list page.</p>
    {% endif %}

    {% if form.errors %}
        <p class="text-danger">Please correct the errors below:</p>
    {% endif %}
        <form method="post" action="">
        {% csrf_token %}
        {{ form|crispy }}
        <input class="btn btn-primary" type="submit" value="Save">
    </form>

{% endblock %}


{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js" integrity="sha512-aFvi2oPv3NjnjQv1Y/hmKD7RNMendo4CZ2DwQqMWzoURKxcqAoktj0nNG4LU8m23+Ws9X5uVDD4OXLqpUVXD5Q==" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#id_events').multiselect({
            buttonClass: 'btn btn-sm btn-primary',
            buttonWidth: '100%',
            numberDisplayed: 1,
            nonSelectedText: 'Click to choose events',
            enableFiltering: true,
            enableCaseInsensitiveFiltering: true,
        });
    });
</script>

{% endblock %}